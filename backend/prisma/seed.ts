import { PrismaClient } from '@prisma/client';
import bcrypt from 'bcryptjs';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± Iniciando seed do banco de dados...\n');

  const hashedPassword = await bcrypt.hash('senha123', 10);
  
  const user = await prisma.user.upsert({
    where: { email: 'usuario@exemplo.com' },
    update: {},
    create: {
      name: 'Usu√°rio Exemplo',
      email: 'usuario@exemplo.com',
      password: hashedPassword,
    },
  });

  console.log('‚úÖ Usu√°rio criado:', user.email);

  const movies = [
    {
      title: 'Bumblebee',
      originalTitle: 'Bumblebee',
      releaseDate: new Date('2018-12-21'),
      description: 'Na Calif√≥rnia de 1987, Bumblebee encontra ref√∫gio em um ferro-velho de uma pequena cidade. Charlie, uma jovem de 18 anos, o descobre e rapidamente percebe que este n√£o √© um Fusca amarelo comum.',
      duration: 114,
      budget: 135000000,
      revenue: 467989762,
      posterUrl: 'https://image.tmdb.org/t/p/w500/fw02ONlDhrYjTSZV8XO6hhU3ds3.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/hMANgfPHR1tRObNp2oPiOi9mMlz.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=lcwmDAYt22k',
      genre: 'A√ß√£o, Aventura, Fic√ß√£o Cient√≠fica',
      director: 'Travis Knight',
      cast: 'Hailee Steinfeld, John Cena, Jorge Lendeborg Jr.',
      rating: 6.7,
      status: 'Lan√ßado',
      voteCount: 5703,
      voteAverage: 6.7,
      userId: user.id,
    },
    {
      title: 'Capit√£ Marvel',
      originalTitle: 'Captain Marvel',
      releaseDate: new Date('2019-03-08'),
      description: 'Carol Danvers se torna uma das hero√≠nas mais poderosas do universo quando a Terra fica no meio de uma guerra gal√°ctica entre duas ra√ßas alien√≠genas.',
      duration: 124,
      budget: 152000000,
      revenue: 1128274794,
      posterUrl: 'https://image.tmdb.org/t/p/w500/AtsgWhDnHTq68L0lLsUrCnM7TjG.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/w2PMyoyLU22YvrGK3smVM9fW1jj.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=Z1BCujX3pw8',
      genre: 'A√ß√£o, Aventura, Fic√ß√£o Cient√≠fica',
      director: 'Anna Boden, Ryan Fleck',
      cast: 'Brie Larson, Samuel L. Jackson, Ben Mendelsohn',
      rating: 6.9,
      status: 'Lan√ßado',
      voteCount: 12500,
      voteAverage: 6.9,
      userId: user.id,
    },
    {
      title: 'Alita: Anjo de Combate',
      originalTitle: 'Alita: Battle Angel',
      releaseDate: new Date('2019-02-14'),
      description: 'Alita √© uma ciborgue que desperta em um futuro p√≥s-apocal√≠ptico sem mem√≥ria de quem √©. Ela embarca em uma jornada para descobrir seu passado.',
      duration: 122,
      budget: 170000000,
      revenue: 404852543,
      posterUrl: 'https://image.tmdb.org/t/p/w500/xRWht48C2V8XNfzvPehyClOvDni.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/8RKBHHRqOMOLh5qW3sS6TSFTd8h.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=w7pYhpJaJW8',
      genre: 'A√ß√£o, Fic√ß√£o Cient√≠fica, Aventura',
      director: 'Robert Rodriguez',
      cast: 'Rosa Salazar, Christoph Waltz, Jennifer Connelly',
      rating: 7.2,
      status: 'Lan√ßado',
      voteCount: 8900,
      voteAverage: 7.2,
      userId: user.id,
    },
    {
      title: 'Como Treinar o Seu Drag√£o 3',
      originalTitle: 'How to Train Your Dragon: The Hidden World',
      releaseDate: new Date('2019-02-22'),
      description: 'Solu√ßo e Banguela descobrem uma caverna de gelo que abriga centenas de novos drag√µes selvagens e um misterioso F√∫ria da Noite.',
      duration: 104,
      budget: 129000000,
      revenue: 525700000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/xvx4Yhf0DVH8G4LzNISpMfFBDy2.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/h3KN24PrOheHVYs9ypuOIdFBEpX.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=2BP38770KNo',
      genre: 'Anima√ß√£o, Fam√≠lia, Aventura',
      director: 'Dean DeBlois',
      cast: 'Jay Baruchel, America Ferrera, F. Murray Abraham',
      rating: 7.5,
      status: 'Lan√ßado',
      voteCount: 7200,
      voteAverage: 7.5,
      userId: user.id,
    },
    {
      title: 'Aquaman',
      originalTitle: 'Aquaman',
      releaseDate: new Date('2018-12-21'),
      description: 'Arthur Curry, o herdeiro do reino submarino de Atl√¢ntida, precisa assumir seu destino como Aquaman e liderar seu povo contra seu meio-irm√£o Orm.',
      duration: 143,
      budget: 160000000,
      revenue: 1148461807,
      posterUrl: 'https://image.tmdb.org/t/p/w500/5Kg76ldv7VxeX9YlcQXiowHgdX6.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/7icgF1dgUJaCpnWV235eafXFznJ.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=WDkg3h8PCVU',
      genre: 'A√ß√£o, Aventura, Fantasia',
      director: 'James Wan',
      cast: 'Jason Momoa, Amber Heard, Willem Dafoe',
      rating: 6.9,
      status: 'Lan√ßado',
      voteCount: 14200,
      voteAverage: 6.9,
      userId: user.id,
    },
    {
      title: 'Nossa Culpa',
      originalTitle: 'Your Fault',
      releaseDate: new Date('2024-12-27'),
      description: 'A sequ√™ncia de Minha Culpa continua a hist√≥ria de amor turbulenta entre Noah e Nick.',
      duration: 118,
      budget: 5000000,
      revenue: 15000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/tPq8xqhsTYZzUGwMKuksa0eyeGZ.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/3EIYw0nOkD2ITnKZAqNSJ5HxHJJ.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=example1',
      genre: 'Romance, Drama',
      director: 'Domingo Gonz√°lez',
      cast: 'Nicole Wallace, Gabriel Guevara',
      rating: 7.8,
      status: 'Lan√ßado',
      voteCount: 2500,
      voteAverage: 7.8,
      userId: user.id,
    },
    {
      title: 'Furioza 2',
      originalTitle: 'Furioza 2',
      releaseDate: new Date('2024-10-11'),
      description: 'Anos ap√≥s um assassinato, o novo l√≠der da Furioza, Golden, toma as r√©deas de um sindicato vigilante e assume um novo foco entre as fronteiras.',
      duration: 110,
      budget: 8000000,
      revenue: 12000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/huvM6PcelNHpL3ldtgDpxstQWqN.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/4zlOPT9CrtIX05bBIkYxNZsm5zN.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=example2',
      genre: 'A√ß√£o, Crime, Thriller',
      director: 'Cyprian T. Olencki',
      cast: 'Weronika KsiƒÖ≈ºkiewicz, Mateusz Banasiuk',
      rating: 6.5,
      status: 'Lan√ßado',
      voteCount: 1800,
      voteAverage: 6.5,
      userId: user.id,
    },
    {
      title: 'Captain Hook - The Cursed Tides',
      originalTitle: 'Captain Hook - The Cursed Tides',
      releaseDate: new Date('2024-09-15'),
      description: 'Uma aventura sombria seguindo o Capit√£o Gancho em sua busca por vingan√ßa contra Peter Pan.',
      duration: 95,
      budget: 3000000,
      revenue: 5000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/7SHFZKfd270y47sXN2WsURUO3ml.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/example3.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=example3',
      genre: 'Aventura, A√ß√£o, Terror',
      director: 'John Smith',
      cast: 'Tom Hardy, Emma Watson',
      rating: 5.0,
      status: 'Lan√ßado',
      voteCount: 900,
      voteAverage: 5.0,
      userId: user.id,
    },
    {
      title: 'A Guerra dos Mundos',
      originalTitle: 'War of the Worlds',
      releaseDate: new Date('2024-08-20'),
      description: 'Uma invas√£o alien√≠gena amea√ßa a humanidade nesta adapta√ß√£o moderna do cl√°ssico de H.G. Wells.',
      duration: 102,
      budget: 15000000,
      revenue: 25000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/yvirUYrva23IudARHn3mMGVxWqM.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/example4.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=example4',
      genre: 'Fic√ß√£o cient√≠fica, Thriller',
      director: 'Steven Spielberg',
      cast: 'Tom Cruise, Dakota Fanning',
      rating: 4.4,
      status: 'Lan√ßado',
      voteCount: 3200,
      voteAverage: 4.4,
      userId: user.id,
    },
    {
      title: 'Invoca√ß√£o do Mal - O √öltimo Ritual',
      originalTitle: 'The Conjuring: Last Rites',
      releaseDate: new Date('2024-09-06'),
      description: 'Ed e Lorraine Warren enfrentam seu caso mais aterrorizante em uma √∫ltima batalha contra for√ßas demon√≠acas.',
      duration: 112,
      budget: 39000000,
      revenue: 180000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/40nHGUfypLhlr7gJx8At1IbYkaK.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/example5.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=example5',
      genre: 'Terror',
      director: 'Michael Chaves',
      cast: 'Patrick Wilson, Vera Farmiga',
      rating: 6.9,
      status: 'Lan√ßado',
      voteCount: 5600,
      voteAverage: 6.9,
      userId: user.id,
    },
    {
      title: 'Bacurau',
      originalTitle: 'Bacurau',
      releaseDate: new Date('2019-08-29'),
      description:
        'Uma pequena comunidade no sert√£o brasileiro descobre que est√° sendo ca√ßada por estrangeiros.',
      duration: 132,
      budget: 2800000,
      revenue: 3500000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/h3fwlU2jH8aXxwDFmO7D4n8HHaP.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/nQfd8IMyWlZnPQp3LgG2IXA5zHS.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=qlheAOcF-5Y',
      genre: 'Drama, Fic√ß√£o Cient√≠fica, Faroeste',
      director: 'Kleber Mendon√ßa Filho, Juliano Dornelles',
      cast: 'S√¥nia Braga, Udo Kier, B√°rbara Colen',
      rating: 7.8,
      status: 'Lan√ßado',
      voteCount: 4000,
      voteAverage: 7.8,
      userId: user.id,
    },
    {
      title: 'Carandiru',
      originalTitle: 'Carandiru',
      releaseDate: new Date('2003-04-11'),
      description:
        'A rotina e as hist√≥rias de prisioneiros na Casa de Deten√ß√£o de S√£o Paulo antes do massacre de 1992.',
      duration: 145,
      budget: 5000000,
      revenue: 12000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/wHYttC8Wx5DhrVmdR4AXxd9UOGx.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/fqPrnQL0M4vdKYpssTLvZxTqkuf.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=6gFqN5nDTMg',
      genre: 'Drama, Crime',
      director: 'Hector Babenco',
      cast: 'Luiz Carlos Vasconcelos, Rodrigo Santoro, Wagner Moura',
      rating: 7.4,
      status: 'Lan√ßado',
      voteCount: 2100,
      voteAverage: 7.4,
      userId: user.id,
    },
    {
      title: 'Que Horas Ela Volta?',
      originalTitle: 'Que Horas Ela Volta?',
      releaseDate: new Date('2015-08-27'),
      description:
        'A vida de uma empregada dom√©stica muda quando sua filha vem morar na casa dos patr√µes.',
      duration: 112,
      budget: 2500000,
      revenue: 4400000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/p0z3UXr9cwPzE1KpFmPtqNRVzDL.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/3mLGMyYXogXXz4qBvyovOZlCYy2.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=svI0h2qtEfM',
      genre: 'Drama',
      director: 'Anna Muylaert',
      cast: 'Regina Cas√©, Camila M√°rdila, Michel Joelsas',
      rating: 8.0,
      status: 'Lan√ßado',
      voteCount: 1500,
      voteAverage: 8.0,
      userId: user.id,
    },
    {
      title: 'O Homem que Copiava',
      originalTitle: 'O Homem que Copiava',
      releaseDate: new Date('2003-08-15'),
      description:
        'Um operador de fotocopiadora em Porto Alegre se envolve em crimes para conquistar a mulher que ama.',
      duration: 123,
      budget: 1500000,
      revenue: 2500000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/oz7M6BFrgX8aL7Kc9xF7nMPLb7K.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/oq3YcoD91uh3CZnDFpIDuIG29cH.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=AmBPZSpSLfQ',
      genre: 'Com√©dia, Crime, Romance',
      director: 'Jorge Furtado',
      cast: 'L√°zaro Ramos, Leandra Leal, Pedro Cardoso',
      rating: 7.7,
      status: 'Lan√ßado',
      voteCount: 1200,
      voteAverage: 7.7,
      userId: user.id,
    },
    {
      title: 'Meu Nome N√£o √â Johnny',
      originalTitle: 'Meu Nome N√£o √â Johnny',
      releaseDate: new Date('2008-01-04'),
      description:
        'Jo√£o Estrella √© um jovem da elite carioca que se torna o maior traficante da zona sul do Rio.',
      duration: 122,
      budget: 3000000,
      revenue: 11000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/wZVvLeIFxLz7KMPL4mYcHwtmsTG.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/vXj2ENo6vKZo1tuy0FsILwLjRLX.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=Q0YhUlYj5Uw',
      genre: 'Drama, Biografia, Crime',
      director: 'Mauro Lima',
      cast: 'Selton Mello, Cl√©o Pires, J√∫lia Lemmertz',
      rating: 7.3,
      status: 'Lan√ßado',
      voteCount: 1900,
      voteAverage: 7.3,
      userId: user.id,
    },
    {
      title: 'Hoje Eu Quero Voltar Sozinho',
      originalTitle: 'Hoje Eu Quero Voltar Sozinho',
      releaseDate: new Date('2014-03-28'),
      description:
        'Leonardo, um adolescente cego, descobre sentimentos novos quando conhece o colega Gabriel.',
      duration: 96,
      budget: 2000000,
      revenue: 3000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/2M3rjT9jgDGRU2k4k2HqB5QpBrI.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/8GHfg7yYtQ3OGn3bTQeIMAB7WhZ.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=KfZ9rVb2c6A',
      genre: 'Drama, Romance',
      director: 'Daniel Ribeiro',
      cast: 'Ghilherme Lobo, F√°bio Audi, Tess Amorim',
      rating: 8.1,
      status: 'Lan√ßado',
      voteCount: 1600,
      voteAverage: 8.1,
      userId: user.id,
    },
    {
      title: 'Lisbela e o Prisioneiro',
      originalTitle: 'Lisbela e o Prisioneiro',
      releaseDate: new Date('2003-08-22'),
      description:
        'Um malandro e uma mo√ßa sonhadora se apaixonam em meio a um cen√°rio de humor e aventura no Nordeste.',
      duration: 108,
      budget: 1800000,
      revenue: 9000000,
      posterUrl: 'https://image.tmdb.org/t/p/w500/b7LJcc6Ot0bXyL5C1jPSH2mUjZX.jpg',
      backdropUrl: 'https://image.tmdb.org/t/p/original/ew2EnT8XrY8wv7RpOawUguFweZT.jpg',
      trailerUrl: 'https://www.youtube.com/watch?v=E6nZ8XqNqYI',
      genre: 'Com√©dia, Romance',
      director: 'Guel Arraes',
      cast: 'Selton Mello, D√©bora Falabella, Bruno Garcia',
      rating: 7.6,
      status: 'Lan√ßado',
      voteCount: 1300,
      voteAverage: 7.6,
      userId: user.id,
    },
  ];

  console.log('\nüìΩÔ∏è  Criando filmes...\n');

  for (const movieData of movies) {
    const movie = await prisma.movie.upsert({
      where: { 
        id: `seed-${movieData.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}` 
      },
      update: {},
      create: {
        ...movieData,
        id: `seed-${movieData.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`,
      },
    });
    console.log(`  ‚úì ${movie.title}`);
  }

  console.log('\n‚úÖ Seed conclu√≠do com sucesso!\n');
  console.log('üìä Resumo:');
  console.log(`  ‚Ä¢ Usu√°rios: 1`);
  console.log(`  ‚Ä¢ Filmes: ${movies.length}\n`);
  console.log('üîë Credenciais de login:');
  console.log(`  Email: usuario@exemplo.com`);
  console.log(`  Senha: senha123\n`);
}

main()
  .catch((e) => {
    console.error('‚ùå Erro ao executar seed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
